# 日次スクリプトの重複実行防止（排他制御）の追加

## 概要

日次スクリプトが実行中に別のシェルを立ち上げた場合に、重複して同じ処理が走らないようにロック機構を導入します。

## 変更内容

### [Component Name] bash

#### [MODIFY] [07_daily_runner.bash](file:///Users/suzukikenichi/dotfiles/bash/public/07_daily_runner.bash)

1. **ロックファイルの導入**: `bash/daily/.cache/runner.lock` を使用します。
2. **実行前チェック**: `_bdotdir_run_profile_daily_scripts` の開始時にロックファイルの存在を確認します。
3. **プロセス存在確認（Stale Lock対策）**: ロックファイルがある場合、そこに記されたPIDが実際に実行中か確認します。
   - 実行中の場合：「デイリー処理が既に他のシェル(PID: ...)で実行中のため、スキップします」と表示して終了。
   - 実行中でない（クラッシュ等で残った）場合：古いロックを削除して続行。
4. **ロックの取得と解放**:
   - 処理開始時にPIDをロックファイルに書き込みます。
   - 全てのスクリプトが終了した際、またはエラーで中断された際にロックファイルを削除します（`trap` を使用）。

## 検証計画

### 手動確認

1. プロファイル内のスクリプトに `sleep 10` を記述。
2. シェル1を起動し、デイリー実行が始まったことを確認。
3. すぐにシェル2を起動し、「既に実行中」というログが出てスキップされることを確認。
4. シェル1が終了した後、シェル3を起動し、当日分はスキップ（以前からの機能）されることを確認。
