# rg (ripgrep) コマンド

Rust で書かれた高速な検索ツールで、 grep コマンドの上位互換として使用されます。

## Syntax

```bash
rg [OPTIONS] PATTERN [PATH...]
```

rg コマンドは PATH 以下のディレクトリを再帰的に検索し、ファイル内の検索条件にマッチする行を表示します。
PATH を指定しない場合はカレントディレクトリが検索対象になります。

## オプション

### SEARCH OPTIONS

|       オプション        | 説明                                                                                |
| :---------------------: | :---------------------------------------------------------------------------------- |
|  `-i`, `--ignore-case`  | 大文字と小文字の違いを無視（デフォルトでは区別する）                                |
| `-F`, `--fixed-strings` | 検索条件を正規表現ではなく、固定文字列として解釈する                                |
|  `-w`, `--word-regexp`  | 単語単位でマッチ（例: `rg -w "cat"` は cat にマッチするが concat にはマッチしない） |

### FILTER OPTIONS

|       オプション       | 説明                                                                                   |
| :--------------------: | :------------------------------------------------------------------------------------- |
|    `-L`, `--follow`    | シンボリックリンクをたどる（デフォルトではたどらない）                                 |
|     `-g`, `--glob`     | glob パターンでフィルタ（例: `rg -g "*.{txt,md}"`: .txt または .md のみを検索）        |
|     `-t`, `--type`     | ファイルタイプ（例: `rg -t js` : JavaScript ファイルのみを検索）                       |
|   `-T`, `--type-not`   | ファイルタイプで除外（例: `rg -T js` は JavaScript ファイルを検索対象から除外）        |
|    `-.`, `--hidden`    | 隠しファイルも検索対象に含める（デフォルトでは除外）                                   |
|     `--no-ignore`      | .gitignore に記載されたファイルも検索対象に含める（デフォルトでは除外）                |
| `-u`, `--unrestricted` | 隠しファイルや .gitignore に記載されたファイルも検索対象に含める（デフォルトでは除外） |

※ `-t` で指定できるファイルタイプは `rg --type-list` で確認できます。

#### glob パターンの例

- `-g "*.{js.ts}"` … 拡張子が .js または .ts のファイル
- `--iglob "*test*"` … ファイル名に test や Test を含むファイル
- `-g "**/game/**/*.py"` … 任意の階層の game ディレクトリ以下の .py ファイル
- `-g "**/game/*.py"` … 任意の階層の game ディレクトリ直下の .py ファイル
- `-g "/.*"` … この階層のドットファイル

### OUTPUT OPTIONS

|          オプション          | 説明                              |
| :--------------------------: | :-------------------------------- |
|    `-n`, `--line-number`     | 行番号を表示する                  |
| 　`-A`, `--after-context=N`  | マッチした行の後 N 行も表示する   |
| 　`-B`, `--before-context=N` | マッチした行の前 N 行も表示する   |
|    　`-C`, `--context=N`     | マッチした行の前後 N 行も表示する |

### OUTPUT MODE

|          オプション          | 説明                                       |
| :--------------------------: | :----------------------------------------- |
|           `--json`           | 検索結果を JSON 形式で出力                 |
|      　`-c`, `--count`       | マッチした行数を表示する                   |
| `-l`, `--files-with-matches` | マッチした行があるファイル名のみを表示する |

## インストール方法

**macOS**

```bash
brew install ripgrep
```

**Debian/Ubuntu**

```bash
sudo apt install ripgrep
```
