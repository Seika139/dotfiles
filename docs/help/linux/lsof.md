# lsof コマンド

`lsof` は "list open files" の略で、システム上で開かれているファイルやプロセスに関する情報を表示するためのコマンドラインツールです。
Linux や Unix 系のシステムで広く使用されており、ファイルディスクリプタ、ネットワーク接続、プロセス情報などを確認するのに役立ちます。

```bash
lsof [オプション] [ファイルまたはプロセス]
```

## 出力される情報

- `COMMAND`: 実行されているコマンド
- `PID`: プロセスID
- `TID`: スレッドID
- `USER`: 実行ユーザー名
- `FD`: ファイルディスクリプタ
- `TYPE`: タイプ
- `DEVICE`: デバイス番号
- `SIZE/OFF`: サイズ/オフセット
- `NODE`: ノード番号
- `NAME`: ファイル名またはポート

## 主なオプション

### `-i`

ネットワーク接続に関連する情報を表示します。特定のポートやプロトコルを指定することも可能です。

```bash
lsof -i :80          # ポート 80 を使用しているプロセスを表示
lsof -i :80,8080     # ポート 80 と 8080 を使用しているプロセスを表示
lsof -i TCP          # TCP 接続を使用しているプロセスを表示
```

### `-t`

プロセスIDのみを表示します。スクリプト内で他のコマンドと組み合わせて使用するのに便利です。

```bash
lsof -t -i :80       # ポート 80 を使用しているプロセスIDのみを表示
```

## 特定のポートを使用しているプロセスを確認する例

```bash
lsof -i :443                  # ポート 443 を使用しているプロセスを表示
lsof -ti :443 | xargs kill -9 # ポート 443 を使用しているプロセスを強制終了
```
